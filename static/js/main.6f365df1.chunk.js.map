{"version":3,"sources":["reducers/index.js","reducers/moviesReducer.js","reducers/userReducer.js","utils/api/fetchData.js","utils/api/cleanMovies.js","actions/index.js","components/Nav/Nav.js","thunks/deleteFavorite.js","thunks/addFavorite.js","containers/Card/Card.js","components/Home/Home.js","components/Favorites/Favorites.js","containers/Login/Login.js","thunks/loginUser.js","thunks/fetchFavorites.js","containers/SignUp/SignUp.js","thunks/createNewUser.js","containers/CardDetails/CardDetails.js","components/ContentContainer/ContentContainer.js","utils/apikey.js","containers/App/App.js","thunks/fetchMovies.js","index.js","utils/localStorage.js"],"names":["rootReducer","combineReducers","movies","state","arguments","length","undefined","action","type","map","movie","id","Object","objectSpread","favorited","favorites","forEach","favorite","movie_id","user","isLoading","error","message","fetchData","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","url","options","response","wrap","_context","prev","next","fetch","sent","ok","json","abrupt","Error","statusText","stop","_x","_x2","apply","this","cleanMovies","title","vote_average","overview","release_date","posterImage","poster_path","setMovies","toggleFavoriteMovie","logInUser","bool","connect","dispatch","logOutUser","clearFavoriteMovies","props","react_default","createElement","className","react_router_dom","exact","to","email","name","onClick","deleteFavorite","user_id","concat","method","headers","Content-Type","body","JSON","stringify","addFavorite","Card","_Component","_getPrototypeOf2","_this","classCallCheck","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","handleFavoriteClick","alert","_this$props$m","m","inherits","createClass","key","value","_this$props$m2","heartClasses","src","alt","Component","cards","index","containers_Card_Card","Login","handleSubmit","e","result","preventDefault","loginUser","fetchFavorites","data","setState","status","showError","document","querySelector","style","color","handleChange","_e$target","target","defineProperty","password","onSubmit","htmlFor","onChange","placeholder","react_router","t0","console","log","SignUp","createNewUser","createUser","then","catch","_user","CardDetails","_this$props","_this$props2","slice","path","component","Home","Favorites","render","match","params","find","parseInt","containers_CardDetails_CardDetails","App","componentDidMount","localStorage","fetchMovies","components_Nav_Nav","components_ContentContainer_ContentContainer","results","persistedState","serializedState","getItem","parse","loadState","store","createStore","composeWithDevTools","applyMiddleware","thunk","subscribe","setItem","saveState","getState","router","es","containers_App_App","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.6f365df1.chunk.js","sourcesContent":["import { movies, hasErrored, isLoading } from './moviesReducer';\nimport { user } from './userReducer';\nimport { combineReducers } from 'redux';\n\nexport const rootReducer = combineReducers({\n  movies,\n  user,\n  isLoading,\n  error: hasErrored\n});","export const movies = (state = [], action) => {\n  switch(action.type) {\n    case 'SET_MOVIES':\n      return action.movies;\n    case 'TOGGLE_FAVORITE_MOVIE':\n      return state.map(movie => {\n        return movie.id === action.id ? {...movie, favorited: !movie.favorited} : movie;\n      });\n    case 'CLEAR_FAVORITE_MOVIES':\n      return state.map(movie => {\n        return {...movie, favorited: false};\n      });\n    case 'SET_FAVORITES_ON_LOG_IN':\n      const moviesWithUpdatedFavorites = state.map(movie => {\n        action.favorites.forEach(favorite => {\n          if (favorite.movie_id === movie.id) {\n            movie.favorited = true;\n          }\n        });\n        return movie;\n      });\n      return moviesWithUpdatedFavorites; \n    default:\n     return state;\n  }\n}\n\nexport const isLoading = (state = false, action) => {\n  switch(action.type) {\n    case 'IS_LOADING':\n      return action.isLoading;\n    default:\n     return state;\n  }\n}\n\nexport const hasErrored = (state = '', action) => {\n  switch(action.type) {\n    case 'HAS_ERRORED':\n      return action.message;\n    default:\n     return state;\n  }\n}","export const user = (state = {}, action) => {\n  switch(action.type) {\n    case 'USER_LOGIN':\n      return action.user;\n    case 'USER_LOGOUT':\n      return {};\n    default:\n     return state;\n  }\n}","export const fetchData = async (url, options) => {\n  const response = await fetch(url, options)\n  if (response.ok) {\n    return await response.json()\n  } else {\n    throw Error(response.statusText)\n  }\n}\n","export const cleanMovies = (movies) => {\n  return movies.map(movie => {\n    const {id, title, vote_average, overview, release_date } = movie;\n    return ({\n      id,\n      title,\n      posterImage: \"https://image.tmdb.org/t/p/w185_and_h278_bestv2\" + movie.poster_path,\n      release_date,\n      vote_average,\n      overview,\n      favorited: false\n    })\n  })\n}","export const setMovies = (movies) => ({\n  type: 'SET_MOVIES',\n  movies\n});\n\nexport const setFavoritesOnLogIn = (favorites) => ({\n  type: 'SET_FAVORITES_ON_LOG_IN',\n  favorites\n})\n\nexport const toggleFavoriteMovie = (id) => ({\n  type: 'TOGGLE_FAVORITE_MOVIE',\n  id\n});\n\nexport const clearFavoriteMovies = () => ({\n  type: 'CLEAR_FAVORITE_MOVIES'\n})\n\nexport const logInUser = (user) => ({\n  type: 'USER_LOGIN',\n  user\n})\n\nexport const logOutUser = () => ({\n  type: 'USER_LOGOUT'\n})\n\nexport const hasErrored = (message) => ({\n  type: 'HAS_ERRORED',\n  message\n})\n\nexport const isLoading = (bool) => ({\n  type: 'IS_LOADING',\n  isLoading: bool\n})","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { logOutUser, clearFavoriteMovies } from '../../actions';\n\n\nexport const Nav = (props) => {\n\n  const handleLogOut = () => {\n    props.logOutUser();\n    props.clearFavoriteMovies();\n  } \n\n  return (\n    <header className=\"Header\">\n      <nav>\n        <NavLink exact to='/' className='nav title'><h1>thriller tracker</h1></NavLink>\n        {\n          props.user.email && \n          <div>\n            <h3>Welcome, {props.user.name}!</h3>\n            <NavLink exact to='/favorites' className='nav fave'>Favorites</NavLink>\n            <NavLink exact to='/login' className='nav' onClick={handleLogOut}>Sign Out</NavLink>\n          </div>\n        }\n        {\n          !props.user.email &&\n          <div>\n            <h3>Welcome!</h3>\n            <NavLink exact to='/login' className='nav'>Login</NavLink>\n            <NavLink exact to='/sign-up' className='nav'>Sign Up</NavLink>\n          </div>\n        }\n      </nav>\n    </header>\n  )\n}\n\nexport const mapStateToProps = (state) => ({\n  user: state.user\n})\n\nexport const mapDispatchToProps = (dispatch) => ({\n  logOutUser: () => dispatch(logOutUser()),\n  clearFavoriteMovies: () => dispatch(clearFavoriteMovies())\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Nav);","import { fetchData } from '../utils/api/fetchData';\n\nexport const deleteFavorite = (movie_id, user_id) => {\n  return async (dispatch) => {\n    const url = `http://localhost:3000/api/users/${user_id}/favorites/${movie_id}`\n    const options = {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        movie_id,\n        user_id,\n      })\n    }\n    await fetchData(url, options);\n  }\n}","import { fetchData } from '../utils/api/fetchData';\n\nexport const addFavorite = (movie, user_id) => {\n  return async (dispatch) => {\n    const {id, title, posterImage, release_date, vote_average, overview} = movie;\n    const url = 'http://localhost:3000/api/users/favorites/new'\n    const options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        movie_id: id,\n        user_id,\n        title,\n        poster_path: posterImage, \n        release_date,\n        vote_average,\n        overview\n      })\n    }\n    await fetchData(url, options);\n  }\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { toggleFavoriteMovie } from '../../actions';\nimport { deleteFavorite } from '../../thunks/deleteFavorite';\nimport { addFavorite } from '../../thunks/addFavorite';\n\nexport class Card extends Component {\n\n  handleFavoriteClick = () => {\n    const user_id = this.props.user.id\n    if (!user_id) {\n      return alert('Login or Signup to favorite movies')\n    }\n    const { id, favorited } = this.props.m;\n    const movie = this.props.m;\n    \n    this.props.toggleFavoriteMovie(id);\n    if (favorited) {\n      this.props.deleteFavorite(id, user_id);\n    } else {\n      this.props.addFavorite(movie, user_id);\n    }\n  }\n\n  render() {\n    const { id, title, posterImage, favorited } = this.props.m;\n    const heartClasses = favorited ? 'fas fa-heart fa-2x favorited' : 'fas fa-heart fa-2x';\n\n    return(\n      <div className=\"Card\">\n        <i onClick={this.handleFavoriteClick} className={heartClasses}></i>\n        <Link to={`/movies/${id}`} >\n          <img src={posterImage} alt={title + ' poster'} />\n        </Link>\n      </div>\n    )\n  }\n}\n\nCard.propTypes = {\n  toggleFavoriteMovie: PropTypes.func,\n  addFavorite: PropTypes.func,\n  deleteFavorite: PropTypes.func,\n  m: PropTypes.object,\n  user: PropTypes.object\n}\n\nexport const mapStateToProps = (state) => ({\n  user: state.user\n})\n\nexport const mapDispatchToProps = (dispatch) => ({\n  toggleFavoriteMovie: (id) => dispatch(toggleFavoriteMovie(id)),\n  addFavorite: (movie, user_id) => dispatch(addFavorite(movie, user_id)),\n  deleteFavorite: (movie_id, user_id) => dispatch(deleteFavorite(movie_id, user_id))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Card);","import React from 'react';\nimport { connect } from 'react-redux';\nimport Card from '../../containers/Card/Card';\n\nexport const Home = (props) => {\n  const cards = props.movies.map((m, index) => <Card key={index} m={m}/>)\n  return (\n    <section className='Home'>\n      {cards}\n    </section>\n  )\n}\n\nexport const mapStateToProps = (state) => ({\n  movies: state.movies\n})\n\nexport default connect(mapStateToProps)(Home);","import React from 'react';\nimport { connect } from 'react-redux';\nimport Card from '../../containers/Card/Card';\n\nexport const Favorites = (props) => {\n  const cards = props.movies.map((m, index) => {\n    if (m.favorited) {\n      return <Card key={index} m={m}/>\n    }\n    return null;\n  });\n  return (\n    <section className='Favorites'>\n      {cards}\n    </section>\n  )\n}\n\nexport const mapStateToProps = (state) => ({\n  movies: state.movies\n})\n\nexport default connect(mapStateToProps)(Favorites);","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { logInUser } from '../../actions';\nimport { loginUser } from '../../thunks/loginUser';\nimport { fetchFavorites } from '../../thunks/fetchFavorites';\n \nexport class Login extends Component {\n  constructor() {\n    super()\n    this.state = {\n      email: '',\n      password: '',\n      status: ''\n    }\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault();\n    const result = await this.props.loginUser(this.state)\n    await this.props.fetchFavorites(result.data.id);\n    result ? this.setState({status: result.status}) : this.showError();\n\n  }\n\n  showError = () => {\n    const errorText = document.querySelector('.error');\n    errorText.style.color = '#760a0a';\n  }\n\n  handleChange = (e) => {\n    const {name, value} = e.target;\n    this.setState({[name]: value});\n  }\n\n  render() {\n    return (\n      <form className=\"user-form\" onSubmit={this.handleSubmit}>\n        <h2>Login</h2>\n        <p className=\"error\">Email and Password do not match</p>\n        <label htmlFor=\"email\">Email</label>\n        <input onChange={ this.handleChange } name=\"email\" type=\"email\" id=\"email\" placeholder=\"Email\" />\n        <label htmlFor=\"password\">Password</label>\n        <input onChange={ this.handleChange } name=\"password\" type=\"password\" id=\"password\" placeholder=\"Password\" />\n        <button>Login</button>\n        {this.state.status && <Redirect to=\"/\" />}\n      </form>\n    )\n  }\n}\n\nLogin.propTypes = {\n  logInUser: PropTypes.func,\n  loginUser: PropTypes.func,\n  fetchFavorites: PropTypes.func\n}\n\n\nexport const mapDispatchToProps = (dispatch) => ({\n  logInUser: (user) => dispatch(logInUser(user)),\n  loginUser: (user) => dispatch(loginUser(user)),\n  fetchFavorites: (user_id) => dispatch(fetchFavorites(user_id))\n})\n\nexport default connect(null, mapDispatchToProps)(Login);","import { fetchData } from '../utils/api/fetchData';\nimport { logInUser } from '../actions';\n\nexport const loginUser = (user) => {\n  return async (dispatch) => {\n    try {\n      const {email, password} = user;\n      const url = 'http://localhost:3000/api/users'\n      const options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      }\n      const result = await fetchData(url, options);\n      dispatch(logInUser(result.data))\n      return result;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}","import { fetchData } from '../utils/api/fetchData';\nimport { setFavoritesOnLogIn } from '../actions';\n\nexport const fetchFavorites = (user_id) => {\n  return async (dispatch) => {\n    const url = `http://localhost:3000/api/users/${user_id}/favorites`;\n    const result = await fetchData(url);\n    dispatch(setFavoritesOnLogIn(result.data))\n  }\n}"," import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { logInUser } from '../../actions';\nimport { createNewUser } from '../../thunks/createNewUser';\n\nexport class SignUp extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      status: ''\n    }\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault()\n    const response = await this.props.createNewUser(this.state);\n    response ? this.setState({status: response.status}) : this.showError();\n  }\n\n  createUser = (state) => {\n    const {name, email, password} = state\n    const user = {name, email, password}\n    const url = 'http://localhost:3000/api/users/new'\n    const options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        email,\n        password\n      })\n    }\n    fetch(url, options)\n    .then(response => {\n      console.log('response ok?:', response.ok)\n      console.log('response:', response)\n      this.setState({status: response.status})\n      response.ok ? this.props.logInUser(user) : this.showError()\n    })\n    .catch(error => console.log('error', error));\n  }\n\n  showError = () => {\n    const errorText = document.querySelector('.error');\n    errorText.style.color = '#760a0a';\n  }\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  render() {\n    return (\n      <form className=\"user-form\" onSubmit={this.handleSubmit}>\n        <h2>Create Account</h2>\n        <p className=\"error\">Email has already been used</p>\n        <label htmlFor=\"name\">Name</label>\n        <input onChange={ this.handleChange } name='name' type='text' id=\"name\" className='userProp' />\n        <label htmlFor=\"email\">Email</label>\n        <input onChange={ this.handleChange } name='email' type='email' id=\"email\" className='userProp' />\n        <label htmlFor=\"password\">Password</label>\n        <input onChange={ this.handleChange } name='password' type='password' id=\"password\" className='userProp' />\n        <button>Create <i className=\"fas fa-angle-right\"></i></button>\n        {this.state.status === 'success' && <Redirect to='/' />}\n      </form>\n    ) \n  }\n}\n\nSignUp.propTypes = {\n  logInUser: PropTypes.func\n}\n\nexport const mapDispatchToProps = dispatch => {\n  return ({\n    logInUser: (user) => dispatch(logInUser(user)),\n    createNewUser: (user) => dispatch(createNewUser(user))\n  })\n}\n\nexport default connect(null, mapDispatchToProps)(SignUp);","import { fetchData } from '../utils/api/fetchData';\nimport { logInUser } from '../actions';\n\nexport const createNewUser = (user) => {\n  return async (dispatch) => {\n    try {\n      const {name, email, password} = user;\n      user = {name, email, password}\n      const url = 'http://localhost:3000/api/users/new'\n      const options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name,\n          email,\n          password\n        })\n      }\n      const result = await fetchData(url, options);\n      dispatch(logInUser({...user, id: result.id}));\n      return result;\n    } catch (error) {\n      console.log('error', error);\n    }\n  }\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { toggleFavoriteMovie } from '../../actions';\nimport { deleteFavorite } from '../../thunks/deleteFavorite';\nimport { addFavorite } from '../../thunks/addFavorite';\n\nclass CardDetails extends Component {\n\n  handleFavoriteClick = () => {\n    const user_id = this.props.user.id\n    if (!user_id) {\n      return alert('Login or Signup to favorite movies')\n    }\n    const { id, favorited } = this.props;\n    const movie = this.props;\n    \n    this.props.toggleFavoriteMovie(id);\n    if (favorited) {\n      this.props.deleteFavorite(id, user_id);\n    } else {\n      this.props.addFavorite(movie, user_id);\n    }\n  }\n\n  render () {\n    const {title, vote_average, overview, posterImage, release_date, favorited} = this.props\n    const heartClasses = favorited ? 'fas fa-heart fa-2x favorited' : 'fas fa-heart fa-2x';\n    return (\n      <section className=\"Card-Details\" >\n        <h2>{title}</h2>\n        <i onClick={this.handleFavoriteClick} className={heartClasses}></i>\n        <h5>Released<span>{release_date.slice(0, 4)}</span></h5>\n        <h6>{vote_average}/10<i className=\"far fa-star\"></i></h6>\n        <p>{overview}</p>\n        <img src={posterImage} alt={title + ' poster'} />\n        <Link className=\"btn\" to='/'>\n          <button className=\"back-btn\">\n            <i className=\"fas fa-angle-left\"></i> Back to results\n          </button>\n        </Link>\n      </section>\n    )\n  }\n}\n\nCardDetails.propTypes = {\n  id: PropTypes.number,\n  title: PropTypes.string, \n  vote_average: PropTypes.number,\n  overview: PropTypes.string, \n  posterImage: PropTypes.string, \n  release_date: PropTypes.string, \n  favorited: PropTypes.bool\n}\n\nexport const mapStateToProps = (state) => ({\n  user: state.user\n})\n\nexport const mapDispatchToProps = (dispatch) => ({\n  toggleFavoriteMovie: (id) => dispatch(toggleFavoriteMovie(id)),\n  addFavorite: (movie, user_id) => dispatch(addFavorite(movie, user_id)),\n  deleteFavorite: (movie_id, user_id) => dispatch(deleteFavorite(movie_id, user_id))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CardDetails);","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Home from '../Home/Home';\nimport Favorites from '../Favorites/Favorites';\nimport Login from '../../containers/Login/Login';\nimport SignUp from '../../containers/SignUp/SignUp';\nimport { connect } from 'react-redux';\nimport CardDetails from '../../containers/CardDetails/CardDetails';\n\nexport const ContentContainer = (props) => {\n  return (\n    <section className='Content-Container'>\n      <Route exact path='/' component={Home} />\n      <Route exact path='/favorites' component={Favorites} />\n      <Route exact path='/login' component={Login} />\n      <Route exact path='/sign-up' component={SignUp} />\n\n      <Route path='/movies/:id' render={ ( { match } ) => {\n          const { id } = match.params\n          const movie = props.movies.find(m => m.id === parseInt(id))\n          if (movie) {\n            return <CardDetails {...movie}/>\n          }\n        }\n      } />\n    </section>\n  )\n}\n\nconst mapStateToProps = (state) => ({\n  movies: state.movies\n})\n\nexport default connect(mapStateToProps)(ContentContainer);","const key = '7b44bb1f4812a66d32d5ee714c8361a3';\n\nexport default key;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { fetchMovies } from '../../thunks/fetchMovies';\nimport Nav from '../../components/Nav/Nav';\nimport ContentContainer from '../../components/ContentContainer/ContentContainer';\nimport key from '../../utils/apikey';\n\nexport class App extends Component {\n  \n  componentDidMount = async () => {\n    if (!localStorage.length) {\n      const url = `https://api.themoviedb.org/3/discover/movie?api_key=${key}&with_genres=27`;\n      this.props.fetchMovies(url) \n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Nav />\n        <ContentContainer />\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {\n  fetchMovies: PropTypes.func\n}\n\nexport const mapDispatchToProps = (dispatch) => ({\n  fetchMovies: (url) => dispatch(fetchMovies(url))\n});\n\nexport default connect(null, mapDispatchToProps)(App);\n","import { fetchData } from '../utils/api/fetchData';\nimport { cleanMovies } from '../utils/api/cleanMovies';\n\nimport { isLoading, hasErrored, setMovies } from '../actions';\n\nexport const fetchMovies = (url) => {\n  return async (dispatch) => {\n    try {\n      dispatch(isLoading(true));\n      const data = await fetchData(url);\n      const movies = cleanMovies(data.results)\n      dispatch(isLoading(false));\n      dispatch(setMovies(movies));\n    } catch (error) {\n      dispatch(hasErrored(error.message));\n    }\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux'; \nimport { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { rootReducer } from './reducers';\nimport { saveState, loadState } from './utils/localStorage';\nimport './scss/index.scss';\nimport App from './containers/App/App';\n\nconst persistedState = loadState();\nconst store = createStore(\n  rootReducer,\n  persistedState, \n  composeWithDevTools(applyMiddleware(thunk))\n);\n\nstore.subscribe(() => {\n  saveState(store.getState());\n});\n\nconst router = (\n  <Provider store={store} >\n    <BrowserRouter> \n      <App/>\n    </BrowserRouter>\n  </Provider>\n)\n\nReactDOM.render(router, document.getElementById('root'));\n","export const loadState = () => {\n  try {\n    const serializedState = localStorage.getItem('state');\n    if (serializedState === null) {\n      return undefined;\n    }\n    return JSON.parse(serializedState);\n  } catch (error) {\n    return undefined;\n  }\n}\n\nexport const saveState = (state) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem('state', serializedState);\n  } catch (error) {\n    console.log('Error saving to localStorage: ', error)\n  }\n}"],"sourceRoot":""}